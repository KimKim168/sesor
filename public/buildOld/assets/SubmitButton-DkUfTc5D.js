import{r as c,j as r}from"./app-B9AQd5ys.js";import{c as M}from"./index-DGr2TLfR.js";import{P}from"./index-pUzHIrlx.js";import{c as d}from"./utils-CBfrqCZ4.js";import{b as _,c as D,d as O}from"./FormField-C5HLT0r3.js";import{B as w}from"./button-EpALpkJz.js";import{I as U}from"./info-CH5uYkAE.js";import{X as y}from"./x-3TRNNdyt.js";import{T as X}from"./triangle-alert-C9A1hioe.js";import{C as z}from"./circle-check-big-CG4Sxlae.js";import{u as F}from"./use-translation-Bes2uPNF.js";import{L as G}from"./loader-circle-boOoTV2o.js";var f="Progress",b=100,[W,me]=M(f),[q,H]=W(f),k=c.forwardRef((e,s)=>{const{__scopeProgress:l,value:t=null,max:a,getValueLabel:i=J,...u}=e;(a||a===0)&&!j(a)&&console.error(K(`${a}`,"Progress"));const o=j(a)?a:b;t!==null&&!N(t,o)&&console.error(Q(`${t}`,"Progress"));const n=N(t,o)?t:null,g=p(n)?i(n,o):void 0;return r.jsx(q,{scope:l,value:n,max:o,children:r.jsx(P.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":p(n)?n:void 0,"aria-valuetext":g,role:"progressbar","data-state":A(n,o),"data-value":n??void 0,"data-max":o,...u,ref:s})})});k.displayName=f;var $="ProgressIndicator",I=c.forwardRef((e,s)=>{const{__scopeProgress:l,...t}=e,a=H($,l);return r.jsx(P.div,{"data-state":A(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...t,ref:s})});I.displayName=$;function J(e,s){return`${Math.round(e/s*100)}%`}function A(e,s){return e==null?"indeterminate":e===s?"complete":"loading"}function p(e){return typeof e=="number"}function j(e){return p(e)&&!isNaN(e)&&e>0}function N(e,s){return p(e)&&!isNaN(e)&&e<=s&&e>=0}function K(e,s){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${b}\`.`}function Q(e,s){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${b} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Y=k,Z=I;const C=c.forwardRef(({className:e,valueClassName:s,value:l,position:t="end",label:a,...i},u)=>{const o=d("absolute -top-0.5 left-0 hidden h-fit w-full items-center px-1.5"),n=()=>r.jsx("span",{className:d("hidden text-sm font-bold",t==="start-outside"&&"block text-primary",t==="follow"&&d(o,"flex justify-end text-white"),t==="start"&&d(o,"flex justify-start text-white"),t==="end"&&d(o,"flex justify-end text-primary"),t==="end-outside"&&"block text-primary",s),children:typeof a=="function"?a(l):`${l}%`});return r.jsxs("div",{className:"flex items-center gap-2",children:[t==="start-outside"&&r.jsx(n,{}),r.jsxs(Y,{ref:u,className:d("relative h-4 w-full overflow-hidden rounded-full bg-primary/20",e),...i,children:[r.jsx(Z,{className:"h-full w-full flex-1 rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 transition-all",style:{transform:`translateX(-${100-(l||0)}%)`},children:t==="follow"&&r.jsx(n,{})}),(t==="start"||t==="end")&&r.jsx(n,{})]}),t==="end-outside"&&r.jsx(n,{})]})});C.displayName="ProgressWithValue";function ge({flashMessage:e,setFlashMessage:s,type:l="message",title:t}){const[a,i]=c.useState(!1),[u,o]=c.useState(0),n=3e3,g=50,x=["success","warning","error","message"].includes(l)?l:"message",T={success:{bg:"bg-green-50 dark:bg-green-900/30",text:"text-green-600 dark:text-green-400",border:"hover:border-green-600 dark:hover:border-green-400",icon:z,progressBg:"bg-green-600/30 dark:bg-green-400/30"},warning:{bg:"bg-yellow-50 dark:bg-yellow-900/30",text:"text-yellow-600 dark:text-yellow-400",border:"hover:border-yellow-600 dark:hover:border-yellow-400",icon:X,progressBg:"bg-yellow-600/30 dark:bg-yellow-400/30"},error:{bg:"bg-red-50 dark:bg-red-900/30",text:"text-red-600 dark:text-red-400",border:"hover:border-red-600 dark:hover:border-red-400",icon:y,progressBg:"bg-red-600/30 dark:bg-red-400/30"},message:{bg:"bg-primary/10 dark:bg-primary/20",text:"text-primary dark:text-primary-light",border:"hover:border-primary dark:hover:border-primary-light",icon:U,progressBg:"bg-primary/30 dark:bg-primary-light/30"}},{bg:R,text:m,border:S,icon:V,progressBg:E}=T[x];c.useEffect(()=>{if(!e)return;i(!0),o(0);let h=168;const B=setInterval(()=>{h+=g,o(Math.min(h/n*100,100))},g),L=setTimeout(()=>v(),n);return()=>{clearInterval(B),clearTimeout(L)}},[e]);const v=()=>{s({message:"",type:"message"}),i(!1),o(0)};return!e||!a?null:r.jsxs("div",{children:[r.jsxs(_,{className:`flex items-center justify-between rounded-none border-none ${R} pr-2 [&>svg+div]:translate-y-0`,children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(V,{className:`mt-0.5 h-4 w-4 ${m}`}),r.jsxs("div",{className:"flex-col justify-center",children:[r.jsx(D,{className:m,children:t||x.charAt(0).toUpperCase()+x.slice(1)}),r.jsx(O,{className:m,children:e})]})]}),r.jsx(w,{size:"icon",variant:"ghost",className:`border border-transparent pl-0 hover:bg-transparent ${S} ${m} hover:${m}`,onClick:v,children:r.jsx(y,{className:"h-5 w-5"})})]}),r.jsx(C,{className:`relative h-[4px] rounded-none ${E}`,label:()=>null,value:u,position:"start"})]})}const pe=({processing:e,children:s,...l})=>{const{t}=F();return r.jsx("div",{className:"flex justify-end",children:r.jsxs(w,{disabled:e,type:"submit",className:"h-11 px-6",...l,children:[e&&r.jsx("span",{className:"mr-2 size-6 animate-spin",children:r.jsx(G,{})}),e?t("Submitting"):s||t("Submit")]})})};export{ge as A,C as P,pe as S};
