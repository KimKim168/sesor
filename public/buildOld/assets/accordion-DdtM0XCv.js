import{U as d,j as t,r as A}from"./app-B9AQd5ys.js";import{c as ee}from"./index-DGr2TLfR.js";import{c as oe}from"./index-CnQi-Tu5.js";import{u as te}from"./index-swU0BSPm.js";import{u as T,c as re}from"./index-C4Ptd6V1.js";import{P as H}from"./index-pUzHIrlx.js";import{c as V,R as ne,T as ae,b as ce}from"./index-CM268rNH.js";import{u as ie}from"./index-DMVBB7S5.js";import{u as se}from"./index-vyCFQFol.js";import{c as E}from"./utils-CBfrqCZ4.js";import{m as K}from"./proxy-BNapONv9.js";import{C as le}from"./chevron-down-bb3v8jkC.js";import{A as de}from"./index-WOW4SexN.js";var u="Accordion",pe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[S,ue,me]=oe(u),[C,Ve]=ee(u,[me,V]),O=V(),$=d.forwardRef((e,a)=>{const{type:o,...r}=e,c=r,n=r;return t.jsx(S.Provider,{scope:e.__scopeAccordion,children:o==="multiple"?t.jsx(Ae,{...n,ref:a}):t.jsx(xe,{...c,ref:a})})});$.displayName=u;var[z,fe]=C(u),[L,ve]=C(u,{collapsible:!1}),xe=d.forwardRef((e,a)=>{const{value:o,defaultValue:r,onValueChange:c=()=>{},collapsible:n=!1,...i}=e,[s,l]=T({prop:o,defaultProp:r??"",onChange:c,caller:u});return t.jsx(z,{scope:e.__scopeAccordion,value:d.useMemo(()=>s?[s]:[],[s]),onItemOpen:l,onItemClose:d.useCallback(()=>n&&l(""),[n,l]),children:t.jsx(L,{scope:e.__scopeAccordion,collapsible:n,children:t.jsx(U,{...i,ref:a})})})}),Ae=d.forwardRef((e,a)=>{const{value:o,defaultValue:r,onValueChange:c=()=>{},...n}=e,[i,s]=T({prop:o,defaultProp:r??[],onChange:c,caller:u}),l=d.useCallback(m=>s((f=[])=>[...f,m]),[s]),p=d.useCallback(m=>s((f=[])=>f.filter(g=>g!==m)),[s]);return t.jsx(z,{scope:e.__scopeAccordion,value:i,onItemOpen:l,onItemClose:p,children:t.jsx(L,{scope:e.__scopeAccordion,collapsible:!0,children:t.jsx(U,{...n,ref:a})})})}),[ge,I]=C(u),U=d.forwardRef((e,a)=>{const{__scopeAccordion:o,disabled:r,dir:c,orientation:n="vertical",...i}=e,s=d.useRef(null),l=te(s,a),p=ue(o),f=se(c)==="ltr",g=re(e.onKeyDown,x=>{if(!pe.includes(x.key))return;const j=x.target,w=p().filter(y=>!y.ref.current?.disabled),b=w.findIndex(y=>y.ref.current===j),M=w.length;if(b===-1)return;x.preventDefault();let v=b;const k=0,_=M-1,R=()=>{v=b+1,v>_&&(v=k)},P=()=>{v=b-1,v<k&&(v=_)};switch(x.key){case"Home":v=k;break;case"End":v=_;break;case"ArrowRight":n==="horizontal"&&(f?R():P());break;case"ArrowDown":n==="vertical"&&R();break;case"ArrowLeft":n==="horizontal"&&(f?P():R());break;case"ArrowUp":n==="vertical"&&P();break}const Z=v%M;w[Z].ref.current?.focus()});return t.jsx(ge,{scope:o,disabled:r,direction:c,orientation:n,children:t.jsx(S.Slot,{scope:o,children:t.jsx(H.div,{...i,"data-orientation":n,ref:l,onKeyDown:r?void 0:g})})})}),h="AccordionItem",[be,D]=C(h),G=d.forwardRef((e,a)=>{const{__scopeAccordion:o,value:r,...c}=e,n=I(h,o),i=fe(h,o),s=O(o),l=ie(),p=r&&i.value.includes(r)||!1,m=n.disabled||e.disabled;return t.jsx(be,{scope:o,open:p,disabled:m,triggerId:l,children:t.jsx(ne,{"data-orientation":n.orientation,"data-state":J(p),...s,...c,ref:a,disabled:m,open:p,onOpenChange:f=>{f?i.onItemOpen(r):i.onItemClose(r)}})})});G.displayName=h;var F="AccordionHeader",W=d.forwardRef((e,a)=>{const{__scopeAccordion:o,...r}=e,c=I(u,o),n=D(F,o);return t.jsx(H.h3,{"data-orientation":c.orientation,"data-state":J(n.open),"data-disabled":n.disabled?"":void 0,...r,ref:a})});W.displayName=F;var N="AccordionTrigger",Y=d.forwardRef((e,a)=>{const{__scopeAccordion:o,...r}=e,c=I(u,o),n=D(N,o),i=ve(N,o),s=O(o);return t.jsx(S.ItemSlot,{scope:o,children:t.jsx(ae,{"aria-disabled":n.open&&!i.collapsible||void 0,"data-orientation":c.orientation,id:n.triggerId,...s,...r,ref:a})})});Y.displayName=N;var q="AccordionContent",B=d.forwardRef((e,a)=>{const{__scopeAccordion:o,...r}=e,c=I(u,o),n=D(q,o),i=O(o);return t.jsx(ce,{role:"region","aria-labelledby":n.triggerId,"data-orientation":c.orientation,...i,...r,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});B.displayName=q;function J(e){return e?"open":"closed"}var he=$,Ce=G,Ie=W,je=Y,we=B;const Q=A.createContext(void 0),X=()=>{const e=A.useContext(Q);if(!e)throw new Error("useAccordionItem must be used within an AccordionItem");return e};function Ke(e){return t.jsx(he,{"data-slot":"accordion",...e})}function $e({className:e,children:a,...o}){const[r,c]=A.useState(!1);return t.jsx(Q.Provider,{value:{isOpen:r,setIsOpen:c},children:t.jsx(Ce,{"data-slot":"accordion-item",className:E("border-b dark:border-b-white border-black",e),...o,children:a})})}function ze({ref:e,className:a,children:o,transition:r={type:"spring",stiffness:150,damping:22},chevron:c=!0,...n}){const i=A.useRef(null);A.useImperativeHandle(e,()=>i.current);const{isOpen:s,setIsOpen:l}=X();return A.useEffect(()=>{const p=i.current;if(!p)return;const m=new MutationObserver(g=>{g.forEach(x=>{if(x.attributeName==="data-state"){const j=p.getAttribute("data-state");l(j==="open")}})});m.observe(p,{attributes:!0,attributeFilter:["data-state"]});const f=p.getAttribute("data-state");return l(f==="open"),()=>{m.disconnect()}},[l]),t.jsx(Ie,{"data-slot":"accordion-header",className:"flex",children:t.jsxs(je,{ref:i,"data-slot":"accordion-trigger",className:E("flex flex-1 items-center justify-between py-4 text-start font-medium hover:underline",a),...n,children:[o,c&&t.jsx(K.div,{"data-slot":"accordion-trigger-chevron",animate:{rotate:s?180:0},transition:r,children:t.jsx(le,{className:"size-5 shrink-0"})})]})})}function Le({className:e,children:a,transition:o={type:"spring",stiffness:150,damping:22},...r}){const{isOpen:c}=X();return t.jsx(de,{children:c&&t.jsx(we,{forceMount:!0,...r,children:t.jsx(K.div,{"data-slot":"accordion-content",initial:{height:0,opacity:0,"--mask-stop":"0%"},animate:{height:"auto",opacity:1,"--mask-stop":"100%"},exit:{height:0,opacity:0,"--mask-stop":"0%"},transition:o,style:{maskImage:"linear-gradient(black var(--mask-stop), transparent var(--mask-stop))",WebkitMaskImage:"linear-gradient(black var(--mask-stop), transparent var(--mask-stop))"},className:"overflow-hidden",...r,children:t.jsx("div",{className:E("pt-0 pb-4 text-sm",e),children:a})},"accordion-content")})})}export{Ke as A,$e as a,ze as b,Le as c};
