import{c as g}from"./createLucideIcon-CEUCJa7Y.js";import{r as n,a as N,j as s,u as T,b as D}from"./app-B9AQd5ys.js";import{B as h}from"./button-EpALpkJz.js";import{D as w,a as v,b as k,c as S,d as C,e as R,f as H}from"./dialog-Bv9VVO8u.js";import{u as _}from"./use-permission-1-Kk-MoW.js";import{u as j}from"./use-translation-Bes2uPNF.js";import{t as f}from"./index-DbduvR8q.js";import{T as B}from"./TooltipButton-CJ25Vfee.js";import{T as I}from"./trash-2-NFtU-whH.js";import{T as L}from"./triangle-alert-C9A1hioe.js";import{L as M}from"./loader-circle-boOoTV2o.js";import{c as o}from"./utils-CBfrqCZ4.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],F=g("ArrowUpDown",A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2",key:"mrq65r"}],["path",{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2",key:"be3xqs"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],re=g("View",P),ae=({deletePath:e="#",id:t,permission:r})=>{const{t:a}=j(),[d,p]=n.useState(!1),{delete:c,processing:i}=N(),m=_();if(r&&!m(r))return null;const u=()=>{c(e+t,{preserveScroll:!0,onSuccess:l=>{l.props.flash?.success&&f.success("Success",{description:l.props.flash.success}),l.props.flash?.error&&f.error("Error",{description:l.props.flash.error})},onError:l=>{f.error("Error",{description:"Failed to create."+JSON.stringify(l,null,2)})}})};return s.jsxs(w,{open:d,onOpenChange:p,children:[s.jsx(B,{tooltip:a("Delete Item"),children:s.jsx(v,{asChild:!0,children:s.jsx(h,{variant:"outline",size:"icon",className:"text-destructive shadow-none hover:text-destructive",children:s.jsx(I,{})})})}),s.jsxs(k,{children:[s.jsxs(S,{children:[s.jsx(C,{children:s.jsxs("div",{className:"flex items-center gap-2 text-start text-destructive",children:[s.jsx(L,{}),a("Delete Item")," (ID: ",t,")"]})}),s.jsx(R,{className:"text-start",children:a("Are you sure you want to delete this item?")})]}),s.jsxs(H,{className:"flex flex-col",children:[s.jsxs(h,{onClick:u,autoFocus:!0,className:"ring-destructive/20 focus:ring-4 dark:bg-destructive dark:ring-destructive/40",disabled:i,variant:"destructive",children:[i&&s.jsx("span",{className:"animate-spin",children:s.jsx(M,{})}),a(i?"Deleting":"Delete")]}),s.jsx(h,{onClick:()=>p(!1),disabled:i,variant:"outline",className:"border border-foreground",children:a("Cancel")})]})]})]})},oe=()=>s.jsx("div",{className:"flex justify-center text-center",children:s.jsx("img",{src:"/assets/icons/no-data.png",alt:"",className:"w-[100px]"})}),E=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:o("w-full caption-bottom text-sm",e),...t})}));E.displayName="Table";const V=n.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:o("[&_tr]:border-b",e),...t}));V.displayName="TableHeader";const q=n.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:o("[&_tr:last-child]:border-0",e),...t}));q.displayName="TableBody";const O=n.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:o("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));O.displayName="TableFooter";const U=n.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:o("border-b transition-colors hover:bg-muted/90 data-[state=selected]:bg-muted",e),...t}));U.displayName="TableRow";const y=n.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:o("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));y.displayName="TableHead";const x=n.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:o("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));x.displayName="TableCell";const $=n.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:o("mt-4 text-sm text-muted-foreground",e),...t}));$.displayName="TableCaption";const ne=({children:e})=>s.jsx(x,{className:"space-x-2 whitespace-nowrap",children:e}),ce=({value:e,fallback:t="---",className:r="",locale:a="en-UK",options:d={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}})=>s.jsx(x,{className:r,children:e?new Date(e).toLocaleDateString(a,d):t}),le=({value:e,fallback:t="---",className:r,isLink:a=!1})=>s.jsx(x,{children:a?s.jsx("a",{href:e?.toString()||"#",className:o("line-clamp-5 hover:underline hover:text-primary",r),dangerouslySetInnerHTML:{__html:e!=null&&e!==""?e:t}}):s.jsx("p",{className:o("line-clamp-5",r),dangerouslySetInnerHTML:{__html:e!=null&&e!==""?e:t}})}),ie=({field:e,label:t})=>{const{t:r}=j(),{url:a}=T(),[d,p=""]=a.split("?"),c=new URLSearchParams(p),i=c.get("sortBy"),m=c.get("sortDirection"),u=i===e,l=b=>{b===i?c.set("sortDirection",m==="asc"?"desc":"asc"):(c.set("sortBy",b),c.set("sortDirection","asc")),D.get(`${d}?${c.toString()}`)};return s.jsx(y,{onClick:()=>e&&l(e),children:s.jsxs("span",{className:"flex cursor-pointer items-center gap-1 select-none",title:`Sort by ${t}`,children:[e&&s.jsx(F,{size:16,className:u?"text-black":"text-muted-foreground"}),r(t),u&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",m&&r(m),")"]})]})})};export{ae as D,oe as N,E as T,re as V,V as a,U as b,ie as c,q as d,le as e,ne as f,ce as g,x as h};
