import{r as t,j as e}from"./app-B9AQd5ys.js";import{B as f}from"./badge-C_HtA6Ve.js";import{B as r}from"./button-EpALpkJz.js";import{D as x,b as u,c as g,d as j,e as w}from"./dialog-Bv9VVO8u.js";import{S as C}from"./square-plus-BSM14hYC.js";/* empty css            */import"./index-swU0BSPm.js";import"./utils-CBfrqCZ4.js";import"./index-BRlx25e-.js";import"./index-C4Ptd6V1.js";import"./index-_TP5U3zn.js";import"./index-DGr2TLfR.js";import"./index-DMVBB7S5.js";import"./index-C6zGpFsQ.js";import"./index-pUzHIrlx.js";import"./index-DlpLYDZ1.js";import"./x-3TRNNdyt.js";import"./createLucideIcon-CEUCJa7Y.js";function K(){const[a,l]=t.useState(null),[b,o]=t.useState(!1),[c,v]=t.useState(!1),[d,S]=t.useState(!1),[i,I]=t.useState(!1),[m,n]=t.useState(!1);t.useEffect(()=>{if(typeof window>"u")return;const s=window.navigator.userAgent.toLowerCase(),y=/iphone|ipad|ipod/.test(s)||s.includes("mac")&&"ontouchend"in document;v(y);const D=s.includes("macintosh")&&s.includes("safari")&&!s.includes("chrome");S(D);const k=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;I(k);const p=h=>{h.preventDefault(),l(h),o(!0)};return window.addEventListener("beforeinstallprompt",p),()=>window.removeEventListener("beforeinstallprompt",p)},[]);const N=async()=>{if(!a)return;a.prompt();const{outcome:s}=await a.userChoice;console.log(s==="accepted"?"✅ User accepted install":"❌ User dismissed install"),l(null),o(!1)};return i?null:b&&a&&!c&&!d?e.jsxs("div",{className:"flex w-full flex-col items-center border-t border-dashed border-white/50 py-2",children:[e.jsx("span",{className:"mb-2 text-sm font-medium",children:"Install this app for quick access"}),e.jsxs(r,{className:"text-true-primary flex w-fit items-center gap-2 bg-white font-semibold transition-all duration-300 hover:scale-105 hover:bg-gray-100",variant:"secondary",onClick:N,children:[e.jsx("img",{className:"size-5",src:"/assets/icons/app-download-icon.png",alt:"Install"}),"Install"]})]}):c&&!i?e.jsxs("div",{className:"flex w-full flex-col items-center border-t border-dashed border-white/50 py-3",children:[e.jsx("span",{className:"mb-2 text-sm font-medium",children:"Install this app for quick access"}),e.jsxs(r,{className:"text-true-primary flex w-fit items-center gap-2 bg-white font-semibold transition-all duration-300 hover:scale-105 hover:bg-gray-100",variant:"secondary",onClick:()=>n(!0),children:[e.jsx("img",{className:"size-5",src:"/assets/icons/app-download-icon.png",alt:"Install"}),"Install"]}),e.jsx(x,{open:m,onOpenChange:n,children:e.jsxs(u,{className:"space-y-4 sm:max-w-[425px]",children:[e.jsxs(g,{children:[e.jsx(j,{children:"Install App"}),e.jsx(w,{children:"Follow these steps to add this app to your iPhone or iPad home screen:"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:["1. Tap the",e.jsxs(f,{variant:"outline",className:"mx-2 inline-flex items-center gap-1 text-sm",children:["Share ",e.jsx("img",{className:"size-5",src:"/assets/icons/ios-share.png",alt:"Share"})]}),"at the bottom in Safari"]}),e.jsxs("div",{children:["2. Scroll down and tap",e.jsxs(f,{variant:"outline",className:"mx-2 inline-flex items-center gap-1 text-sm",children:["Add to Home Screen ",e.jsx(C,{className:"ml-0.5"})]})]}),e.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"After adding, the app will appear on your home screen like a native app."})]})]})})]}):d&&!i?e.jsxs("div",{className:"flex w-full flex-col items-center border-t border-dashed border-white/50 py-3",children:[e.jsx("span",{className:"mb-2 text-sm font-medium",children:"Install this app for quick access"}),e.jsxs(r,{className:"text-true-primary flex w-fit items-center gap-2 bg-white font-semibold",variant:"secondary",onClick:()=>n(!0),children:[e.jsx("img",{className:"size-5",src:"/assets/icons/app-download-icon.png",alt:"Install"}),"Install"]}),e.jsx(x,{open:m,onOpenChange:n,children:e.jsx(u,{children:e.jsxs(g,{children:[e.jsx(j,{children:"Install on Mac"}),e.jsxs(w,{children:["In Safari, go to the menu bar → ",e.jsx("b",{children:"File"})," → ",e.jsx("b",{children:"Add to Dock"}),"."]})]})})})]}):null}export{K as default};
