import{g as x,r as w,b as y,j as p}from"./app-B9AQd5ys.js";import{u as v}from"./use-translation-Bes2uPNF.js";import{c as S}from"./utils-CBfrqCZ4.js";import{B as j}from"./button-EpALpkJz.js";import{I as D}from"./input-C9w9P4L6.js";import{S as E}from"./search-4gJDPScM.js";var h={exports:{}},b;function P(){if(b)return h.exports;b=1;function m(d,r=100,f={}){if(typeof d!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof d}\`.`);if(r<0)throw new RangeError("`wait` must not be negative.");const{immediate:l}=typeof f=="boolean"?{immediate:f}:f;let o,s,t,n,a;function e(){const u=o,g=s;return o=void 0,s=void 0,a=d.apply(u,g),a}function i(){const u=Date.now()-n;u<r&&u>=0?t=setTimeout(i,r-u):(t=void 0,l||(a=e()))}const c=function(...u){if(o&&this!==o&&Object.getPrototypeOf(this)===Object.getPrototypeOf(o))throw new Error("Debounced method called with different contexts of the same prototype.");o=this,s=u,n=Date.now();const g=l&&!t;return t||(t=setTimeout(i,r)),g&&(a=e()),a};return Object.defineProperty(c,"isPending",{get(){return t!==void 0}}),c.clear=()=>{t&&(clearTimeout(t),t=void 0)},c.flush=()=>{t&&c.trigger()},c.trigger=()=>{a=e(),c.clear()},c}return h.exports.debounce=m,h.exports=m,h.exports}var C=P();const R=x(C),I=({placeholder:m="Search...",className:d,onSearch:r})=>{const f=typeof window<"u"?new URLSearchParams(window.location.search):new URLSearchParams,[l,o]=w.useState(f.get("search")||""),s=typeof window<"u"?window.location.pathname:"",{t}=v(),n=w.useCallback(R(e=>{if(r)r(e);else if(s){const i=new URLSearchParams(window.location.search);e?i.set("search",e):i.delete("search"),i.set("page","1"),y.get(`${s}?${i.toString()}`,{},{preserveState:!0,preserveScroll:!0})}},500),[s,r]);w.useEffect(()=>()=>n.clear(),[n]);const a=e=>{e.key==="Enter"&&(e.preventDefault(),n(l))};return p.jsxs("div",{className:S("group flex w-full flex-1 items-center rounded border ring-primary/20 transition-colors focus-within:border-primary focus-within:ring-4 md:w-sm dark:ring-primary/50",d),children:[p.jsx(D,{type:"search",value:l,placeholder:t(m),className:"flex-1 border-0 bg-background pl-2 text-base shadow-none focus-visible:ring-0 sm:pl-3 sm:text-lg",onChange:e=>{o(e.target.value),n(e.target.value)},onKeyDown:a}),p.jsx(j,{variant:"ghost",size:"sm",className:"h-full rounded-[2.8px] bg-muted group-focus-within:text-primary hover:bg-primary hover:text-white",type:"button",onClick:()=>n(l),children:p.jsx(E,{className:"h-5 w-5"})})]})};export{I as T};
