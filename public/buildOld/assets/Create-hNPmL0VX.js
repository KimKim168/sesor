import{j as e,r as b,u as P,a as M}from"./app-B9AQd5ys.js";import{A as k,P as q,S as R}from"./SubmitButton-DkUfTc5D.js";import{A as _,F as n,a as j}from"./FormField-C5HLT0r3.js";import{c as E}from"./createLucideIcon-CEUCJa7Y.js";import{C as L}from"./CheckboxCardOption-RTcFlVIE.js";import{F as U,U as I}from"./UploadedImageDisplay-DCoUUeqx.js";import{F as w}from"./FormLabel-BVEwy9q1.js";import{S as B}from"./SingleSelect-DJTlwz7L.js";import{A as G}from"./app-layout-CnYGSqSs.js";/* empty css            */import"./index-DGr2TLfR.js";import"./index-pUzHIrlx.js";import"./index-swU0BSPm.js";import"./utils-CBfrqCZ4.js";import"./button-EpALpkJz.js";import"./info-CH5uYkAE.js";import"./x-3TRNNdyt.js";import"./triangle-alert-C9A1hioe.js";import"./circle-check-big-CG4Sxlae.js";import"./use-translation-Bes2uPNF.js";import"./loader-circle-boOoTV2o.js";import"./input-C9w9P4L6.js";import"./index-CZxAM9gV.js";import"./index-C4Ptd6V1.js";import"./index-_TP5U3zn.js";import"./index-DKMsqORC.js";import"./index-BOj2oOoE.js";import"./circle-check-CPlGWBE5.js";import"./index-C6zGpFsQ.js";import"./index-DlpLYDZ1.js";import"./index-DbduvR8q.js";import"./trash-2-NFtU-whH.js";import"./label-C0F9iVr4.js";import"./index-1DDNbJHx.js";import"./index-Z3JRHEkw.js";import"./index-CnQi-Tu5.js";import"./index-DMVBB7S5.js";import"./index-vyCFQFol.js";import"./loader-DIKUI-My.js";import"./sheet-DdM45rFk.js";import"./index-BRlx25e-.js";import"./tooltip-C7Swj_Cy.js";import"./index-DTexlEPQ.js";import"./index-DXtQc_U7.js";import"./collapsible-CWObRoGu.js";import"./index-CM268rNH.js";import"./use-permission-1-Kk-MoW.js";import"./chevron-down-bb3v8jkC.js";import"./dropdown-menu-ChJ0oRXq.js";import"./avatar-Cv_iQLGP.js";import"./use-initials-H4qxnzxA.js";import"./index-BPuO6ew5.js";import"./index-CMWG4mbA.js";import"./chevrons-up-down-KClQ2Vfg.js";import"./app-logo-icon-T2T-wNYo.js";import"./layout-list-BM-QY9No.js";import"./users-DwCWCooa.js";import"./book-open-D6ywPU7Z.js";import"./breadcrumb-D-MR7w5c.js";import"./chevron-right-6vQtaiep.js";import"./NavLanguage-ClSNos7V.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],$=E("RefreshCcw",O),T=({setData:s})=>{const p=()=>{const m=Math.random().toString(36).substring(2,8);s("email",`user-${m}@email.com`)};return e.jsxs("button",{type:"button",className:"mt-1 inline-flex items-center cursor-pointer gap-1 rounded border bg-muted px-2 py-1 text-xs font-medium text-muted-foreground transition hover:border-gray-400",onClick:p,children:[e.jsx($,{className:"h-3 w-3"}),"Random"]})};function Xe({editData:s,readOnly:p}){const[m,d]=b.useState({message:"",type:"message"}),[u,c]=b.useState(null),{roles:h,auth:g}=P().props,{data:o,setData:i,post:f,processing:v,transform:C,progress:x,errors:a,reset:y}=M({name:s?.name||"",email:s?.email||"",phone:s?.phone||"",gender:s?.gender||"",password:"",password_confirmation:"",image:s?.image||null,roles:s?.roles?.map(r=>r.name)||[]}),S=r=>{const t=o.roles.includes(r)?o.roles.filter(l=>l!==r):[...o.roles,r];i("roles",t)},A=r=>{r.preventDefault(),C(()=>({...o,image:u?u[0]:null})),s?.id?f(`/admin/users/${s.id}/update`,{onSuccess:t=>{c(null),d({message:t.props.flash?.success,type:"success"})}}):f("/admin/users",{onSuccess:t=>{y(),c(null),d({message:t.props.flash?.success,type:"success"})}})},F=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/admin/users"},{title:s?.name||"Create",href:"#"}];return e.jsx(G,{breadcrumbs:F,children:e.jsxs("form",{onSubmit:A,className:"form",children:[e.jsx(k,{type:m.type,flashMessage:m.message,setFlashMessage:d},m.message),a&&e.jsx(_,{title:"Please fix the following errors",errors:a}),e.jsxs("div",{className:"form-field-container",children:[e.jsx(n,{required:!0,id:"name",name:"name",label:"Name",value:o.name,onChange:r=>i("name",r),error:a.name}),e.jsx(n,{required:!0,type:"number",id:"phone",name:"phone",label:"Phone Number",value:o.phone,onChange:r=>i("phone",r),error:a.phone}),e.jsxs("div",{children:[e.jsx(n,{required:!0,id:"email",name:"email",label:"Email",value:o.email,onChange:r=>i("email",r),error:a.email}),e.jsx(T,{setData:i})]}),e.jsxs("div",{className:"grid content-start gap-2",children:[e.jsx(w,{id:"gender",label:"Gender",required:!0}),e.jsx(B,{name:"gender",options:[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],value:o.gender,onChange:r=>i("gender",r)}),e.jsx(j,{error:a.gender})]}),e.jsx(n,{required:!s?.id,id:"password",name:"password",label:s?.id?"New Password":"Password",value:o.password,onChange:r=>i("password",r),error:a.password,type:"password"}),e.jsx(n,{required:!s?.id,id:"password_confirmation",name:"password_confirmation",label:s?.id?"Confirm New Password":"Confirm Password",value:o.password_confirmation,onChange:r=>i("password_confirmation",r),error:a.password_confirmation,type:"password"})]}),h.length>0&&e.jsxs("div",{className:"grid content-start gap-2",children:[e.jsx(w,{id:"roles",label:"Roles",required:!0}),e.jsx("div",{className:"flex flex-wrap gap-3",children:h.map(({name:r})=>{const t=g.roles.includes("Super Admin"),l=g.roles.includes("Admin");return!t&&(l&&r==="Super Admin"||!l&&(r==="Super Admin"||r==="Admin"))?null:e.jsx(L,{className:"max-w-[130px] rounded py-2",checkBoxClassName:"top-0 right-0",option:{value:r,label:r,icon:()=>null},checked:o.roles.includes(r),onChange:N=>S(N)},r)})}),e.jsx(j,{error:a.roles})]}),e.jsxs("div",{children:[e.jsx(U,{id:"profile-image",label:"Profile Image",files:u,setFiles:c},s?.image),s?.image&&e.jsx(I,{label:"Uploaded Image",images:s?.image,basePath:"/assets/images/users/thumb/"})]}),x&&e.jsx(q,{value:x.percentage,position:"start"}),!p&&e.jsx(R,{processing:v})]})})}export{Xe as default};
